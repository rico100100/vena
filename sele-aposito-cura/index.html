<!DOCTYPE html>
<html lang="es"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Evaluación y Selección de Apósitos para Úlceras Cutáneas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .evaluation-panel {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #e9ecef;
        }

        .result-panel {
            background: #fff;
            border-radius: 12px;
            padding: 25px;
            border: 2px solid #e9ecef;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .section-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 25px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #dee2e6;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .form-group h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .form-group p.description {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 15px;
            font-style: italic;
        }

        .radio-group {
            display: grid;
            gap: 10px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-option:hover {
            border-color: #3498db;
            background-color: #f8f9fa;
        }

        .radio-option.selected {
            border-color: #3498db;
            background-color: #e3f2fd;
        }

        .radio-option input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .radio-option label {
            cursor: pointer;
            font-weight: 500;
        }

        .severity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .leve { background-color: #d4edda; color: #155724; }
        .moderado { background-color: #fff3cd; color: #856404; }
        .severo { background-color: #f8d7da; color: #721c24; }

        .result-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .recommendation-card {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .recommendation-card h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .recommendation-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .recommendation-details h5 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .recommendation-details ul {
            list-style: none;
            padding-left: 0;
        }

        .recommendation-details li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .recommendation-details li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
        }

        .clinical-notes {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .clinical-notes h5 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .clinical-notes p {
            color: #856404;
            font-size: 0.9rem;
            margin: 5px 0;
        }

        .btn-calculate {
            width: 100%;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .btn-calculate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .score-display {
            text-align: center;
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .score-display h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .score-display .score {
            font-size: 2rem;
            font-weight: bold;
        }

        .abbreviations {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }

        .abbreviations h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .abbreviations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .abbreviation-item {
            padding: 8px;
            background: white;
            border-radius: 5px;
            border: 1px solid #e9ecef;
        }

        .abbreviation-item strong {
            color: #2c3e50;
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .result-panel {
                position: static;
            }
        }

        .time-criteria {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .time-criteria h4 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .time-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .time-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            border: 1px solid #4caf50;
        }

        .time-item .letter {
            font-weight: bold;
            color: #2e7d32;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Sistema de Evaluación y Selección de Apósitos para Úlceras Cutáneas</h1>
            <p>Herramienta clínica basada en evidencia científica para la selección óptima de apósitos</p>
        </header>

        <div class="content">
            <div class="evaluation-panel">
                <h2 class="section-title">Evaluación Clínica de la Úlcera</h2>
                <p style="margin-bottom: 25px; color: #6c757d; font-style: italic;">Complete
 todos los campos para obtener una recomendación personalizada de 
apósitos basada en los criterios TIME y escalas validadas.</p>

                <form id="ulcerEvaluationForm">
                    <!-- Nivel de Exudado -->
                    <div class="form-group">
                        <h3>1. Nivel de Exudado</h3>
                        <p class="description">Según clasificación NPUAP/EPUAP. Evaluar cantidad de exudado presente tras retirar apósito previo.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="exudado" id="exudado_ninguno" value="ninguno">
                                <label for="exudado_ninguno">Ninguno/Mínimo (0) - Piel perilesional normal</label>
                                <span class="severity-badge leve">LEVE</span>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="exudado" id="exudado_ligero" value="ligero">
                                <label for="exudado_ligero">Ligero (1) - Piel normal, bordes limpios, granulación</label>
                                <span class="severity-badge leve">LEVE</span>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="exudado" id="exudado_moderado" value="moderado">
                                <label for="exudado_moderado">Moderado (2) - Maceración &gt;1cm perilesional</label>
                                <span class="severity-badge moderado">MODERADO</span>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="exudado" id="exudado_abundante" value="abundante">
                                <label for="exudado_abundante">Abundante (3) - Malestar, prurito, mal olor, deterioro epidermis</label>
                                <span class="severity-badge severo">SEVERO</span>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="exudado" id="exudado_muy_alto" value="muy_alto">
                                <label for="exudado_muy_alto">Muy Alto (4) - Ulceraciones satélites, riesgo colonización</label>
                                <span class="severity-badge severo">CRÍTICO</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tipo de Exudado -->
                    <div class="form-group">
                        <h3>2. Tipo de Exudado</h3>
                        <p class="description">Características del exudado observado. Fundamental para identificar infección.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="tipo_exudado" id="seroso" value="seroso">
                                <label for="seroso">Seroso - Claro, ligeramente viscoso (cicatrización normal)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="tipo_exudado" id="serosanguinolento" value="serosanguinolento">
                                <label for="serosanguinolento">Serosanguinolento - Con componente hemático leve</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="tipo_exudado" id="sanguinolento" value="sanguinolento">
                                <label for="sanguinolento">Sanguinolento - Rojizo, indica daño vascular</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="tipo_exudado" id="purulento" value="purulento">
                                <label for="purulento">Purulento - Viscoso, opaco, amarillo/verde (infección)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="tipo_exudado" id="hemorragico" value="hemorragico">
                                <label for="hemorragico">Hemorrágico - Sangrado intenso, daño vascular importante</label>
                            </div>
                        </div>
                    </div>

                    <!-- Estado de Granulación -->
                    <div class="form-group">
                        <h3>3. Estado del Tejido/Granulación</h3>
                        <p class="description">Según escala PUSH y TIME. Evaluar el peor tejido presente en el lecho.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="granulacion" id="cicatrizado" value="cicatrizado">
                                <label for="cicatrizado">Cicatrizado (0) - Completamente reepitelizado</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="granulacion" id="epitelial" value="epitelial">
                                <label for="epitelial">Tejido Epitelial (1) - Rosado/brillante en bordes o islotes</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="granulacion" id="granulacion_buena" value="granulacion">
                                <label for="granulacion_buena">Granulación Sana (2) - Rojo/rosáceo, granular, húmedo</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="granulacion" id="esfacelos" value="esfacelos">
                                <label for="esfacelos">Esfacelos (3) - Tejido amarillo/blanquecino adherido</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="granulacion" id="necrotico" value="necrotico">
                                <label for="necrotico">Tejido Necrótico (4) - Negro/marrón, firmemente adherido</label>
                            </div>
                        </div>
                    </div>

                    <!-- Alteración de la Piel -->
                    <div class="form-group">
                        <h3>4. Estado de la Piel Perilesional</h3>
                        <p class="description">Evaluación de la piel circundante según escala FEDPALLA y criterios clínicos.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="piel_perilesional" id="integra" value="integra">
                                <label for="integra">Íntegra - Piel normal, sin alteraciones</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="piel_perilesional" id="lacerada" value="lacerada">
                                <label for="lacerada">Lacerada - Pequeñas heridas o cortes menores</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="piel_perilesional" id="macerada" value="macerada">
                                <label for="macerada">Macerada - Blanda, blanquecina, por exceso humedad</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="piel_perilesional" id="eczematosa" value="eczematosa">
                                <label for="eczematosa">Eczematosa - Inflamada, descamada, eritematosa</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="piel_perilesional" id="inflamada" value="inflamada">
                                <label for="inflamada">Inflamada - Eritema, calor, edema</label>
                            </div>
                        </div>
                    </div>

                    <!-- Signos de Infección -->
                    <div class="form-group">
                        <h3>5. Signos de Infección (Criterios de Gardner)</h3>
                        <p class="description">Presencia de criterios clásicos y específicos de infección en heridas crónicas.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="infeccion" id="no_infeccion" value="no_infeccion">
                                <label for="no_infeccion">No hay signos de infección</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="infeccion" id="infeccion_leve" value="infeccion_leve">
                                <label for="infeccion_leve">Signos leves (1-2 criterios): dolor↑, eritema leve</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="infeccion" id="infeccion_moderada" value="infeccion_moderada">
                                <label for="infeccion_moderada">Infección moderada (3-4 criterios): edema, calor, granulación friable</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="infeccion" id="infeccion_severa" value="infeccion_severa">
                                <label for="infeccion_severa">Infección severa (≥5 criterios): exudado purulento, retraso cicatrización, cavitación</label>
                            </div>
                        </div>
                    </div>

                    <!-- Profundidad/Estadio -->
                    <div class="form-group">
                        <h3>6. Estadio/Profundidad de la Úlcera</h3>
                        <p class="description">Clasificación según NPUAP/EPUAP para úlceras por presión o equivalente para otras etiologías.</p>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" name="estadio" id="estadio_1" value="estadio_1">
                                <label for="estadio_1">Estadio I - Eritema no blanqueable, piel intacta</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="estadio" id="estadio_2" value="estadio_2">
                                <label for="estadio_2">Estadio II - Pérdida espesor parcial, epidermis/dermis</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="estadio" id="estadio_3" value="estadio_3">
                                <label for="estadio_3">Estadio III - Pérdida espesor total, tejido subcutáneo</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="estadio" id="estadio_4" value="estadio_4">
                                <label for="estadio_4">Estadio IV - Pérdida total, músculo/hueso visible</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" name="estadio" id="inclasificable" value="inclasificable">
                                <label for="inclasificable">Inclasificable - Cubierta por esfacelos/escara</label>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn-calculate" onclick="calculateRecommendation()">
                        Calcular Recomendación de Apósito
                    </button>
                </form>
            </div>

            <div class="result-panel">
                <h2 class="section-title">Recomendación Terapéutica</h2>
                
                <div id="score-display" class="score-display" style="display: none;">
                    <h4>Puntuación TIME Modificada</h4>
                    <div class="score" id="total-score">0</div>
                    <p>Puntos (máx: 20)</p>
                </div>

                <div id="recommendation-result" class="result-header">
                    <p style="color: #6c757d; text-align: center; padding: 40px 20px; font-style: italic;">
                        Complete la evaluación clínica para obtener la 
recomendación de apósito más adecuada basada en evidencia científica.
                    </p>
                </div>

                <!-- Criterios TIME -->
                <div class="time-criteria">
                    <h4>Criterios TIME (Tissue, Infection, Moisture, Edge)</h4>
                    <div class="time-grid">
                        <div class="time-item">
                            <div class="letter">T</div>
                            <small>Tejido</small>
                        </div>
                        <div class="time-item">
                            <div class="letter">I</div>
                            <small>Infección</small>
                        </div>
                        <div class="time-item">
                            <div class="letter">M</div>
                            <small>Humedad</small>
                        </div>
                        <div class="time-item">
                            <div class="letter">E</div>
                            <small>Bordes</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Abreviaciones y Notas al Pie -->
        <div class="abbreviations">
            <h3>Abreviaciones y Definiciones Clínicas</h3>
            <div class="abbreviations-grid">
                <div class="abbreviation-item">
                    <strong>TIME:</strong> Tissue, Infection/Inflammation, Moisture balance, Edge advancement
                </div>
                <div class="abbreviation-item">
                    <strong>PUSH:</strong> Pressure Ulcer Scale for Healing
                </div>
                <div class="abbreviation-item">
                    <strong>NPUAP:</strong> National Pressure Ulcer Advisory Panel
                </div>
                <div class="abbreviation-item">
                    <strong>EPUAP:</strong> European Pressure Ulcer Advisory Panel
                </div>
                <div class="abbreviation-item">
                    <strong>FEDPALLA:</strong> Escala de valoración de piel perilesional
                </div>
                <div class="abbreviation-item">
                    <strong>MMP:</strong> Metaloproteinasas de matriz
                </div>
                <div class="abbreviation-item">
                    <strong>SAP:</strong> Polímero superabsorbente
                </div>
                <div class="abbreviation-item">
                    <strong>CMC:</strong> Carboximetilcelulosa
                </div>
            </div>
        </div>
    </div>

    <script>
        // Objeto con las recomendaciones de apósitos basadas en evidencia científica
        const apositos = {
            // Exudado bajo, sin infección
            "ninguno_ligero_no_infeccion": {
                primario: "Hidrogel o Lámina de Poliuretano",
                descripcion: "Para mantener ambiente húmedo y reducir fricción",
                indicaciones: [
                    "Hidrogel combinado con apósito secundario",
                    "Lámina de poliuretano para reducir fricción",
                    "Hidrocoloide extrafino en estadios I-II"
                ],
                frecuencia: "Cada 3-7 días según evolución",
                observaciones: "Ideal para fases iniciales de cicatrización. Evitar deshidratación del lecho."
            },
            
            // Exudado moderado, granulación buena
            "moderado_granulacion": {
                primario: "Espuma de Poliuretano o Hidrocoloide",
                descripcion: "Absorción moderada manteniendo humedad óptima",
                indicaciones: [
                    "Espuma de poliuretano (hidrocelular)",
                    "Espuma de poliuretano con silicona",
                    "Hidrocoloide estándar",
                    "Hidrogel para lecho seco"
                ],
                frecuencia: "Cada 3-5 días",
                observaciones: "Monitorizar capacidad de absorción. Evitar maceración perilesional."
            },
            
            // Exudado alto/abundante
            "alto_abundante_exudado": {
                primario: "Alginato Cálcico o Hidrofibra",
                descripcion: "Alta capacidad de absorción y control de exudado",
                indicaciones: [
                    "Alginato cálcico + apósito secundario",
                    "Hidrofibra de hidrocoloide",
                    "Apósitos superabsorbentes (SAP)",
                    "Espuma de poliuretano de alta absorción"
                ],
                frecuencia: "Cada 1-3 días según saturación",
                observaciones: "Evaluación diaria necesaria. Proteger piel perilesional con barrera cutánea."
            },
            
            // Tejido necrótico/esfacelos
            "necrotico_esfacelos": {
                primario: "Hidrogel o Enzimático",
                descripcion: "Desbridamiento autolítico del tejido desvitalizado",
                indicaciones: [
                    "Hidrogel + apósito secundario (alginato/espuma)",
                    "Desbridantes enzimáticos (colagenasa)",
                    "NO usar alginato en tejido seco",
                    "NO usar hidrocoloides si exposición ósea"
                ],
                frecuencia: "Diario hasta desbridamiento completo",
                observaciones: "Reevaluar tras desbridamiento. Considerar desbridamiento quirúrgico si extenso."
            },
            
            // Infección presente
            "con_infeccion": {
                primario: "Apósitos Antimicrobianos",
                descripcion: "Control de carga bacteriana y biofilms",
                indicaciones: [
                    "Apósitos con plata nanocristalina",
                    "Carbón activado + plata para control de olor",
                    "Hidrofibra con plata",
                    "Antisépticos tópicos + apósito primario"
                ],
                frecuencia: "Diario durante fase aguda de infección",
                observaciones: "Cultivo microbiológico recomendado. Evaluar necesidad de antibioterapia sistémica si ≥5 criterios de Gardner."
            },
            
            // Sangrado/hemorrágico
            "hemorragico": {
                primario: "Alginato Cálcico",
                descripcion: "Propiedades hemostáticas del calcio",
                indicaciones: [
                    "Alginato cálcico + compresión suave",
                    "Espuma de poliuretano de alta absorción",
                    "Evitar manipulación excesiva",
                    "Apósito secundario de retención"
                ],
                frecuencia: "Según necesidad hemostática",
                observaciones: "Evaluar causa del sangrado. Considerar alteraciones de coagulación."
            },
            
            // Cavidades profundas
            "cavidades": {
                primario: "Alginato en Cinta o Hidrofibra",
                descripcion: "Relleno de espacios muertos y control de exudado",
                indicaciones: [
                    "Alginato en cinta + apósito secundario",
                    "Hidrofibra en cinta",
                    "Hidrogel para cavidades secas",
                    "NO empaquetar fuertemente"
                ],
                frecuencia: "Cada 2-3 días",
                observaciones: "Medición de profundidad en cada cambio. Reevaluación por cirugía si tunelización extensa."
            }
        };

        // Función principal de cálculo
        function calculateRecommendation() {
            const form = document.getElementById('ulcerEvaluationForm');
            const formData = new FormData(form);
            
            // Verificar que todos los campos estén completos
            const requiredFields = ['exudado', 'tipo_exudado', 'granulacion', 'piel_perilesional', 'infeccion', 'estadio'];
            const missingFields = requiredFields.filter(field => !formData.get(field));
            
            if (missingFields.length > 0) {
                alert('Por favor, complete todos los campos de evaluación antes de continuar.');
                return;
            }

            // Obtener valores del formulario
            const exudado = formData.get('exudado');
            const tipoExudado = formData.get('tipo_exudado');
            const granulacion = formData.get('granulacion');
            const pielPerilesional = formData.get('piel_perilesional');
            const infeccion = formData.get('infeccion');
            const estadio = formData.get('estadio');

            // Calcular puntuación TIME modificada
            let score = calculateScore(exudado, tipoExudado, granulacion, pielPerilesional, infeccion, estadio);
            
            // Mostrar puntuación
            document.getElementById('score-display').style.display = 'block';
            document.getElementById('total-score').textContent = score;

            // Determinar recomendación según algoritmo clínico
            const recommendation = determineRecommendation(exudado, tipoExudado, granulacion, pielPerilesional, infeccion, estadio);
            
            // Mostrar resultado
            displayRecommendation(recommendation);
        }

        // Función de cálculo de puntuación TIME
        function calculateScore(exudado, tipoExudado, granulacion, pielPerilesional, infeccion, estadio) {
            let score = 0;
            
            // Puntuación por nivel de exudado
            const exudadoScores = {
                'ninguno': 0, 'ligero': 1, 'moderado': 2, 'abundante': 3, 'muy_alto': 4
            };
            score += exudadoScores[exudado] || 0;
            
            // Puntuación por tipo de exudado
            const tipoScores = {
                'seroso': 0, 'serosanguinolento': 1, 'sanguinolento': 2, 'purulento': 3, 'hemorragico': 4
            };
            score += tipoScores[tipoExudado] || 0;
            
            // Puntuación por granulación (PUSH)
            const granulacionScores = {
                'cicatrizado': 0, 'epitelial': 1, 'granulacion': 2, 'esfacelos': 3, 'necrotico': 4
            };
            score += granulacionScores[granulacion] || 0;
            
            // Puntuación por piel perilesional
            const pielScores = {
                'integra': 0, 'lacerada': 1, 'macerada': 2, 'eczematosa': 3, 'inflamada': 4
            };
            score += pielScores[pielPerilesional] || 0;
            
            // Puntuación por infección
            const infeccionScores = {
                'no_infeccion': 0, 'infeccion_leve': 1, 'infeccion_moderada': 3, 'infeccion_severa': 4
            };
            score += infeccionScores[infeccion] || 0;
            
            return score;
        }

        // Algoritmo de selección de apósitos
        function determineRecommendation(exudado, tipoExudado, granulacion, pielPerilesional, infeccion, estadio) {
            
            // Prioridad 1: Infección severa
            if (infeccion === 'infeccion_severa' || tipoExudado === 'purulento') {
                return apositos["con_infeccion"];
            }
            
            // Prioridad 2: Sangrado/hemorrágico
            if (tipoExudado === 'hemorragico' || tipoExudado === 'sanguinolento') {
                return apositos["hemorragico"];
            }
            
            // Prioridad 3: Tejido necrótico/esfacelos
            if (granulacion === 'necrotico' || granulacion === 'esfacelos') {
                return apositos["necrotico_esfacelos"];
            }
            
            // Prioridad 4: Cavidades profundas
            if (estadio === 'estadio_3' || estadio === 'estadio_4') {
                return apositos["cavidades"];
            }
            
            // Prioridad 5: Control de exudado alto
            if (exudado === 'abundante' || exudado === 'muy_alto') {
                return apositos["alto_abundante_exudado"];
            }
            
            // Prioridad 6: Exudado moderado con granulación
            if (exudado === 'moderado' && granulacion === 'granulacion') {
                return apositos["moderado_granulacion"];
            }
            
            // Default: Exudado bajo sin complicaciones
            return apositos["ninguno_ligero_no_infeccion"];
        }

        // Función para mostrar la recomendación
        function displayRecommendation(recommendation) {
            const resultDiv = document.getElementById('recommendation-result');
            
            resultDiv.innerHTML = `
                <div class="recommendation-card">
                    <h4>Apósito Recomendado</h4>
                    <p style="font-size: 1.1rem; margin: 0;">${recommendation.primario}</p>
                </div>
                
                <div class="recommendation-details">
                    <h5>Indicaciones Específicas:</h5>
                    <ul>
                        ${recommendation.indicaciones.map(ind => `<li>${ind}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="recommendation-details">
                    <h5>Frecuencia de Cambio:</h5>
                    <p>${recommendation.frecuencia}</p>
                </div>
                
                <div class="clinical-notes">
                    <h5>Notas Clínicas:</h5>
                    <p><strong>Mecanismo de acción:</strong> ${recommendation.descripcion}</p>
                    <p><strong>Observaciones:</strong> ${recommendation.observaciones}</p>
                </div>
            `;
        }

        // Event listeners para interactividad
        document.addEventListener('DOMContentLoaded', function() {
            // Añadir interactividad a las opciones de radio
            const radioOptions = document.querySelectorAll('.radio-option');
            radioOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // Remover clase selected de otros elementos del mismo grupo
                    const groupName = radio.name;
                    document.querySelectorAll(`input[name="${groupName}"]`).forEach(r => {
                        r.closest('.radio-option').classList.remove('selected');
                    });
                    
                    // Añadir clase selected al elemento actual
                    this.classList.add('selected');
                });
            });
        });
    </script>

</body></html>